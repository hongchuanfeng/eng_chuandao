<!DOCTYPE html>
<html lang="zh-CN">
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Image Stitching Tool - Chandao Tools</title>
	<meta name="keywords" content="online tool collection, Chandao Tools">
	<meta name="description" content="Chandao Tools is a collection of free, no-login online utilities across life, dev, encoding/decoding, encryption, images, and fun.">
	<link rel="canonical" href="https://www.chdaoai.com/image/joinImg.html">			
	<link rel="icon" href="../favicon.ico" type="image/x-icon"/>
	<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon"/>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
		.nav {
			max-width: 1200px;
			margin: 0 auto;
			display: flex;
			gap: 20px;
		}
		.nav-item {
			color: #666;
			text-decoration: none;
			font-size: 14px;
			display: flex;
			align-items: center;
			gap: 5px;
		}
		.container {
			max-width: 1200px;
			margin: 0 auto;
			background: white;
			border-radius: 8px;
			padding: 20px;
			box-shadow: 0 2px 4px rgba(0,0,0,0.1);
		}
		.image-container {
			display: flex;
			gap: 20px;
			margin-bottom: 20px;
		}
		.image-box {
			flex: 1;
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 10px;
		}
		.image-preview {
			width: 100%;
			height: 300px;
			border: 2px dashed #ddd;
			border-radius: 8px;
			display: flex;
			align-items: center;
			justify-content: center;
			overflow: hidden;
			background-color: #f8f9fa;
		}
		.image-preview img {
			max-width: 100%;
			max-height: 100%;
			object-fit: contain;
		}
		.button {
			width: 100%;
			padding: 12px;
			border: none;
			border-radius: 4px;
			font-size: 16px;
			cursor: pointer;
			transition: background-color 0.3s;
		}
		.upload-btn {
			background-color: #ff6b6b;
			color: white;
		}
		.upload-btn:hover {
			background-color: #ff5252;
		}
		.download-btn {
			background-color: #f8f9fa;
			color: #333;
			border: 1px solid #ddd;
		}
		.download-btn:hover {
			background-color: #e9ecef;
		}
		.info-box {
			margin-top: 20px;
			padding: 15px;
			background: #fff5f0;
			border-radius: 4px;
		}
		.info-title {
			color: #ff6b6b;
			margin-bottom: 10px;
		}
		.info-list {
			list-style: none;
			color: #666;
			font-size: 14px;
			line-height: 1.8;
		}
		.info-list li {
			margin-bottom: 5px;
		}

		/* Help section styles */
		.help-section {
			background: #f8f9fa;
			border-radius: 8px;
			padding: 2rem;
			max-width: 1100px;
			margin: 2rem auto;
			border-left: 4px solid #007bff;
		}

		.help-title {
			color: #333;
			font-size: 1.5rem;
			margin-bottom: 1rem;
			display: flex;
			align-items: center;
			gap: 0.5rem;
		}

		.help-content {
			color: #666;
			line-height: 1.6;
		}

		.help-content h3 {
			color: #444;
			margin: 1.5rem 0 0.5rem 0;
			font-size: 1.1rem;
		}

		.help-content ul {
			margin: 0.5rem 0 1rem 1.5rem;
		}

		.help-content li {
			margin-bottom: 0.5rem;
		}

		.help-content code {
			background: #e9ecef;
			padding: 0.2rem 0.4rem;
			border-radius: 3px;
			font-family: monospace;
			font-size: 0.9rem;
		}

		.example-box {
			background: #fff;
			border: 1px solid #dee2e6;
			border-radius: 6px;
			padding: 1rem;
			margin: 1rem 0;
		}

		.example-title {
			font-weight: bold;
			color: #495057;
			margin-bottom: 0.5rem;
		}

		/* Footer styles */
		.footer {
			background: #333;
			color: white;
			text-align: center;
			padding: 2rem 1rem;
			margin-top: 3rem;
		}

		.footer-links {
			display: flex;
			justify-content: center;
			gap: 2rem;
			margin-bottom: 1rem;
			flex-wrap: wrap;
		}

		.footer-links a {
			color: #ccc;
			text-decoration: none;
			transition: color 0.3s;
		}

		.footer-links a:hover {
			color: white;
		}

		.footer-copyright {
			color: #999;
			font-size: 0.9rem;
		}

		@media (max-width: 768px) {
			.footer-links {
				flex-direction: column;
				gap: 1rem;
			}
		}
	</style>
	<script src="https://cdn.tailwindcss.com"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
	<script>
		tailwind.config = {
			theme: {
				extend: {
					colors: {
						primary: '#3b82f6',
						secondary: '#f97316',
						neutral: '#f3f4f6',
					},
					fontFamily: {
						inter: ['Inter', 'system-ui', 'sans-serif'],
					},
				}
			}
		}
	</script>
	<style type="text/tailwindcss">
		@layer utilities {
			.content-auto {
				content-visibility: auto;
			}
			.shadow-soft {
				box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
			}
			.transition-custom {
				transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			}
		}
	</style>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: system-ui, -apple-system, sans-serif;
		}

		body {
			background-color: #f5f5f5;
		}

		/* ÂìçÂ∫îÂºèÂØºËà™Ê†è */
		nav {
			background: white;
			padding: 1rem 2rem;
			box-shadow: 0 2px 5px rgba(0,0,0,0.1);
			position: relative;
		}

		.nav-container {
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.nav-categories {
			display: flex;
			gap: 2rem;
		}

		.nav-category {
			color: #666;
			cursor: pointer;
			transition: color 0.3s;
			white-space: nowrap;
			text-decoration: none;
		}

		.nav-category:hover {
			color: #007bff;
		}

		.menu-btn {
			display: none;
			background: none;
			border: none;
			font-size: 1.2rem;
			cursor: pointer;
		}

		.container {
			max-width: 1200px;
			margin: 2rem auto;
			padding: 0 1rem;
		}

		/* Â∑•ÂÖ∑Âç°ÁâáÂ∏ÉÂ±Ä */
		.tools-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
			gap: 1.5rem;
			padding: 1rem;
		}

		.tool-card {
			background: white;
			border-radius: 8px;
			padding: 1rem;
			box-shadow: 0 2px 5px rgba(0,0,0,0.1);
			transition: transform 0.3s;
		}

		.tool-card:hover {
			transform: translateY(-3px);
		}

		.tool-icon {
			font-size: 1.5rem;
			color: #007bff;
			margin-bottom: 1rem;
		}

		.category-title {
			color: #444;
			margin: 2rem 0 1rem;
			padding-left: 1rem;
		}

		/* ÁßªÂä®Á´ØÊ†∑Âºè */
		@media (max-width: 768px) {
			.nav-categories {
				display: none;
				position: absolute;
				top: 100%;
				left: 0;
				right: 0;
				background: white;
				flex-direction: column;
				padding: 1rem;
				box-shadow: 0 2px 5px rgba(0,0,0,0.1);
			}

			.nav-categories.active {
				display: flex;
			}

			.nav-category {
				padding: 0.5rem 0;
				text-decoration: none;
			}

			.menu-btn {
				display: block;
			}

			nav {
				padding: 1rem;
			}
		}
	</style>
	<!-- Google tag (gtag.js2) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-8NMLH22Y6G"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-8NMLH22Y6G');
	</script>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7274710287377352"
			crossorigin="anonymous"></script>


</head>
<body>
<nav>
	<div class="nav-container">
		<div class="logo">
			<a href="../index.html" class="nav-item">
				<img src="../static/images/logo.png" width="50px" style="margin-right: 60px"/>
			</a>
		</div>
		<button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>
		<div class="nav-categories">
			<a href="../index.html" class="nav-category">üîç Recommended</a>
			<a href="../life.html" class="nav-category">üè† Life Tools</a>
			<a href="../encry.html" class="nav-category">üîí Encryption</a>
			<a href="../code.html" class="nav-category">üìù Encoding</a>
			<a href="../dev.html" class="nav-category">üíª Dev Tools</a>
			<a href="../image.html" class="nav-category">üñºÔ∏è Image Tools</a>
			<a href="../game.html" class="nav-category">üéÆ Fun Tools</a>
		</div>
	</div>
</nav>

<div class="container">

	<!-- ‰∏ªË¶ÅÂÜÖÂÆπÂå∫ -->
	<main class="flex-grow container mx-auto px-4 py-8">
		<div class="max-w-5xl mx-auto bg-white rounded-xl shadow-soft p-6 md:p-8">
			<!-- Ê†áÈ¢òÂíåÊèèËø∞ -->
			<div class="text-center mb-8">
				<h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-gray-800 mb-3">Stitch your images easily</h2>
				<p class="text-gray-600 max-w-2xl mx-auto">Upload multiple images, choose stitching direction, spacing, and background to generate a single combined image.</p>
			</div>

			<!-- ‰∏ä‰º†Âå∫Âüü -->
			<div class="mb-8">
				<div id="drop-area" class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center transition-custom hover:border-primary cursor-pointer bg-neutral">
					<i class="fa fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
					<h3 class="text-lg font-medium text-gray-700 mb-2">Drag and drop images here</h3>
					<p class="text-gray-500 mb-4">or</p>
					<label class="inline-block bg-primary hover:bg-primary/90 text-white font-medium py-2 px-6 rounded-md cursor-pointer transition-custom">
						<i class="fa fa-folder-open mr-2"></i>Select images
						<input type="file" id="file-input" class="hidden" multiple accept="image/*">
					</label>
					<p class="mt-4 text-sm text-gray-500">Supports JPG, PNG, WebP</p>
				</div>

				<!-- Â∑≤‰∏ä‰º†ÂõæÁâáÈ¢ÑËßà -->
				<div id="preview-container" class="mt-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 hidden">
					<h4 class="col-span-full text-lg font-medium text-gray-700 mb-2">Uploaded Images</h4>
					<div id="image-previews" class="col-span-full grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"></div>
				</div>
			</div>

			<!-- ÊãºÊé•ÈÄâÈ°π -->
			<div class="mb-8">
				<h3 class="text-lg font-medium text-gray-700 mb-4">Stitching Options</h3>
				<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
					<!-- ÊãºÊé•ÊñπÂêë -->
					<div>
						<label class="block text-sm font-medium text-gray-700 mb-2">Direction</label>
						<div class="flex space-x-4">
							<label class="flex items-center space-x-2 cursor-pointer">
								<input type="radio" name="direction" value="horizontal" checked class="w-4 h-4 text-primary focus:ring-primary">
								<span>Horizontal</span>
							</label>
							<label class="flex items-center space-x-2 cursor-pointer">
								<input type="radio" name="direction" value="vertical" class="w-4 h-4 text-primary focus:ring-primary">
								<span>Vertical</span>
							</label>
						</div>
					</div>

					<!-- Èó¥Ë∑ùËÆæÁΩÆ -->
					<div>
						<label for="spacing" class="block text-sm font-medium text-gray-700 mb-2">Spacing (px)</label>
						<input type="range" id="spacing" min="0" max="50" value="10" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary">
						<div class="flex justify-between text-xs text-gray-500 mt-1">
							<span>0</span>
							<span id="spacing-value">10</span>
							<span>50</span>
						</div>
					</div>

					<!-- ËÉåÊôØÈ¢úËâ≤ -->
					<div>
						<label for="background" class="block text-sm font-medium text-gray-700 mb-2">Background</label>
						<div class="flex items-center space-x-4">
							<input type="color" id="background" value="#ffffff" class="w-10 h-10 rounded-full border-0 cursor-pointer">
							<input type="text" id="background-text" value="#ffffff" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
						</div>
					</div>

					<!-- ÂõæÁâáË¥®Èáè -->
					<div>
						<label for="quality" class="block text-sm font-medium text-gray-700 mb-2">Output quality (JPG)</label>
						<input type="range" id="quality" min="0.1" max="1" step="0.1" value="0.9" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary">
						<div class="flex justify-between text-xs text-gray-500 mt-1">
							<span>Low</span>
							<span id="quality-value">0.9</span>
							<span>High</span>
						</div>
					</div>
				</div>
			</div>

			<!-- Êìç‰ΩúÊåâÈíÆ -->
			<div class="flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4 mb-8">
				<button id="clear-btn" class="w-full sm:w-auto px-6 py-2 border border-gray-300 rounded-md text-gray-700 font-medium hover:bg-gray-50 transition-custom flex items-center justify-center">
					<i class="fa fa-trash mr-2"></i>Clear images
				</button>
				<button id="stitch-btn" class="w-full sm:w-auto px-6 py-2 bg-secondary hover:bg-secondary/90 text-white font-medium rounded-md transition-custom flex items-center justify-center">
					<i class="fa fa-magic mr-2"></i>Start stitching
				</button>
			</div>

			<!-- ÊãºÊé•ÁªìÊûú -->
			<div id="result-container" class="hidden">
				<h3 class="text-lg font-medium text-gray-700 mb-4">Result</h3>
				<div class="bg-neutral rounded-lg p-4 flex flex-col items-center">
					<div id="loading-indicator" class="hidden mb-4">
						<div class="w-10 h-10 border-4 border-gray-200 border-t-primary rounded-full animate-spin mx-auto"></div>
						<p class="text-gray-600 mt-2">Processing images...</p>
					</div>
					<div id="result-image-container" class="relative max-w-full overflow-auto">
						<img id="result-image" src="" alt="ÊãºÊé•ÁªìÊûú" class="max-w-full rounded shadow-md">
						<div class="top-2 right-2 hover:opacity-100 transition-opacity">
							<button id="download-btn" class="bg-gray-800/80 hover:bg-gray-800 text-white p-2 rounded-full">
								<i class="fa fa-download"></i>
							</button>
						</div>
					</div>
				</div>
			</div>

		</div>
	</main>
</div>

<!-- Help Section -->
<div class="help-section">
	<h2 class="help-title">
		<i class="fas fa-question-circle"></i>
		How to Use
	</h2>
	<div class="help-content">
		<h3>Step-by-Step Instructions</h3>
		<ol>
			<li><strong>Upload Images:</strong> Drag and drop multiple images or click "Select images" to choose files</li>
			<li><strong>Configure Options:</strong> Set stitching direction, spacing, background color, and output quality</li>
			<li><strong>Preview Images:</strong> Review uploaded images and remove any unwanted ones</li>
			<li><strong>Start Stitching:</strong> Click "Start stitching" to combine your images</li>
			<li><strong>Download Result:</strong> Use the download button to save the combined image</li>
		</ol>

		<h3>Stitching Options</h3>
		<div class="example-box">
			<div class="example-title">Direction:</div>
			<ul>
				<li><strong>Horizontal:</strong> Images are placed side by side from left to right</li>
				<li><strong>Vertical:</strong> Images are stacked from top to bottom</li>
			</ul>
		</div>

		<div class="example-box">
			<div class="example-title">Spacing:</div>
			<ul>
				<li>Controls the gap between images (0-50 pixels)</li>
				<li>Higher values create more space between images</li>
				<li>Use 0 for seamless joining</li>
			</ul>
		</div>

		<div class="example-box">
			<div class="example-title">Background Color:</div>
			<ul>
				<li>Choose the background color for the combined image</li>
				<li>Use color picker or enter hex code</li>
				<li>White (#ffffff) is the default</li>
			</ul>
		</div>

		<div class="example-box">
			<div class="example-title">Output Quality:</div>
			<ul>
				<li>Controls JPEG compression quality (0.1-1.0)</li>
				<li>Higher values = better quality but larger file size</li>
				<li>0.9 is recommended for most uses</li>
			</ul>
		</div>

		<h3>Supported Image Formats</h3>
		<ul>
			<li>JPEG (.jpg, .jpeg)</li>
			<li>PNG (.png)</li>
			<li>WebP (.webp)</li>
			<li>GIF (.gif)</li>
			<li>BMP (.bmp)</li>
		</ul>

		<h3>Common Use Cases</h3>
		<div class="example-box">
			<div class="example-title">Social Media:</div>
			<ul>
				<li>Create Instagram carousel posts</li>
				<li>Combine multiple photos for Facebook posts</li>
				<li>Create Twitter thread images</li>
			</ul>
		</div>

		<div class="example-box">
			<div class="example-title">Documentation:</div>
			<ul>
				<li>Combine screenshots for tutorials</li>
				<li>Create before/after comparisons</li>
				<li>Merge related images for reports</li>
			</ul>
		</div>

		<div class="example-box">
			<div class="example-title">Creative Projects:</div>
			<ul>
				<li>Create photo collages</li>
				<li>Combine artwork pieces</li>
				<li>Create panoramic-style images</li>
			</ul>
		</div>

		<h3>Tips for Best Results</h3>
		<ul>
			<li>Use images with similar dimensions for better alignment</li>
			<li>Consider the final aspect ratio when choosing direction</li>
			<li>Use appropriate spacing to avoid cramped layouts</li>
			<li>Choose background colors that complement your images</li>
			<li>Test different quality settings to balance size and quality</li>
		</ul>

		<h3>Image Size Considerations</h3>
		<div class="example-box">
			<div class="example-title">Horizontal Stitching:</div>
			<ul>
				<li>Final width = sum of all image widths + spacing</li>
				<li>Final height = height of tallest image</li>
				<li>Best for: Side-by-side comparisons, timelines</li>
			</ul>
		</div>

		<div class="example-box">
			<div class="example-title">Vertical Stitching:</div>
			<ul>
				<li>Final width = width of widest image</li>
				<li>Final height = sum of all image heights + spacing</li>
				<li>Best for: Step-by-step guides, vertical layouts</li>
			</ul>
		</div>

		<h3>Browser Requirements</h3>
		<ul>
			<li>Modern web browser with HTML5 Canvas support</li>
			<li>JavaScript enabled</li>
			<li>Sufficient memory for image processing</li>
		</ul>

		<h3>Important Notes</h3>
		<ul>
			<li>All processing is done locally in your browser</li>
			<li>No images are uploaded to external servers</li>
			<li>Large images may take longer to process</li>
			<li>Output is always in JPEG format</li>
			<li>Original image quality is preserved during stitching</li>
		</ul>
	</div>
</div>

<script>
	// Â≠òÂÇ®‰∏ä‰º†ÁöÑÂõæÁâá
	let uploadedImages = [];

	// DOM ÂÖÉÁ¥†
	const dropArea = document.getElementById('drop-area');
	const fileInput = document.getElementById('file-input');
	const previewContainer = document.getElementById('preview-container');
	const imagePreviews = document.getElementById('image-previews');
	const stitchBtn = document.getElementById('stitch-btn');
	const clearBtn = document.getElementById('clear-btn');
	const resultContainer = document.getElementById('result-container');
	const resultImage = document.getElementById('result-image');
	const downloadBtn = document.getElementById('download-btn');
	const loadingIndicator = document.getElementById('loading-indicator');
	const spacingInput = document.getElementById('spacing');
	const spacingValue = document.getElementById('spacing-value');
	const qualityInput = document.getElementById('quality');
	const qualityValue = document.getElementById('quality-value');
	const backgroundInput = document.getElementById('background');
	const backgroundText = document.getElementById('background-text');

	// Êõ¥Êñ∞Èó¥Ë∑ùÊòæÁ§∫
	spacingInput.addEventListener('input', () => {
		spacingValue.textContent = spacingInput.value;
	});

	// Êõ¥Êñ∞Ë¥®ÈáèÊòæÁ§∫
	qualityInput.addEventListener('input', () => {
		qualityValue.textContent = qualityInput.value;
	});

	// ÂêåÊ≠•ËÉåÊôØÈ¢úËâ≤ËæìÂÖ•
	backgroundInput.addEventListener('input', () => {
		backgroundText.value = backgroundInput.value;
	});

	backgroundText.addEventListener('input', () => {
		// È™åËØÅÈ¢úËâ≤Ê†ºÂºè
		if (/^#([0-9A-F]{3}){1,2}$/i.test(backgroundText.value)) {
			backgroundInput.value = backgroundText.value;
		}
	});

	// ÊãñÊîæ‰∫ã‰ª∂Â§ÑÁêÜ
	['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
		dropArea.addEventListener(eventName, preventDefaults, false);
	});

	function preventDefaults(e) {
		e.preventDefault();
		e.stopPropagation();
	}

	['dragenter', 'dragover'].forEach(eventName => {
		dropArea.addEventListener(eventName, highlight, false);
	});

	['dragleave', 'drop'].forEach(eventName => {
		dropArea.addEventListener(eventName, unhighlight, false);
	});

	function highlight() {
		dropArea.classList.add('border-primary', 'bg-primary/5');
	}

	function unhighlight() {
		dropArea.classList.remove('border-primary', 'bg-primary/5');
	}

	dropArea.addEventListener('drop', handleDrop, false);

	function handleDrop(e) {
		const dt = e.dataTransfer;
		const files = dt.files;
		handleFiles(files);
	}

	// Êñá‰ª∂ÈÄâÊã©
	fileInput.addEventListener('change', () => {
		handleFiles(fileInput.files);
	});

	// ÁÇπÂáª‰∏ä‰º†Âå∫Âüü‰πüËß¶ÂèëÊñá‰ª∂ÈÄâÊã©
	dropArea.addEventListener('click', () => {
		if (!previewContainer.classList.contains('hidden')) {
			fileInput.click();
		}
	});

	// Â§ÑÁêÜÊñá‰ª∂
	function handleFiles(files) {
		for (let i = 0; i < files.length; i++) {
			const file = files[i];
			if (!file.type.match('image.*')) continue;

			const reader = new FileReader();

			reader.onload = function(e) {
				const img = new Image();
				img.onload = function() {
					// Â≠òÂÇ®ÂõæÁâá‰ø°ÊÅØ
					uploadedImages.push({
						src: e.target.result,
						width: img.width,
						height: img.height
					});

					// ÂàõÂª∫È¢ÑËßà
					createImagePreview(e.target.result);

					// ÊòæÁ§∫È¢ÑËßàÂÆπÂô®
					previewContainer.classList.remove('hidden');
				};
				img.src = e.target.result;
			};

			reader.readAsDataURL(file);
		}
	}

	// ÂàõÂª∫ÂõæÁâáÈ¢ÑËßà
	function createImagePreview(src) {
		const preview = document.createElement('div');
		preview.className = 'relative group';
		preview.innerHTML = `
                <img src="${src}" alt="È¢ÑËßàÂõæ" class="w-full h-32 object-cover rounded-lg shadow-sm">
                <button class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-red-500 hover:bg-red-600 text-white p-1 rounded-full">
                    <i class="fa fa-times"></i>
                </button>
            `;

		// Âà†Èô§ÊåâÈíÆ‰∫ã‰ª∂
		const deleteBtn = preview.querySelector('button');
		deleteBtn.addEventListener('click', () => {
			// ‰ªéÊï∞ÁªÑ‰∏≠Âà†Èô§ÂõæÁâá
			const imgSrc = preview.querySelector('img').src;
			uploadedImages = uploadedImages.filter(img => img.src !== imgSrc);

			// ÁßªÈô§È¢ÑËßà
			preview.remove();

			// Â¶ÇÊûúÊ≤°ÊúâÂõæÁâá‰∫ÜÔºåÈöêËóèÈ¢ÑËßàÂÆπÂô®
			if (uploadedImages.length === 0) {
				previewContainer.classList.add('hidden');
			}
		});

		imagePreviews.appendChild(preview);
	}

	// Ê∏ÖÈô§ÊâÄÊúâÂõæÁâá
	clearBtn.addEventListener('click', () => {
		uploadedImages = [];
		imagePreviews.innerHTML = '';
		previewContainer.classList.add('hidden');
		resultContainer.classList.add('hidden');
	});

	// ÊãºÊé•ÂõæÁâá
	stitchBtn.addEventListener('click', stitchImages);

	// ‰∏ãËΩΩÂõæÁâá
	downloadBtn.addEventListener('click', () => {
		const link = document.createElement('a');
		link.download = 'stitched-image.jpg';
		link.href = resultImage.src;
		link.click();
	});

	// ÂõæÁâáÊãºÊé•ÂäüËÉΩ
	function stitchImages() {
		if (uploadedImages.length < 2) {
			alert('Please upload at least two images to stitch');
			return;
		}

		// ÊòæÁ§∫Âä†ËΩΩÊåáÁ§∫Âô®
		resultContainer.classList.remove('hidden');
		loadingIndicator.classList.remove('hidden');
		resultImage.style.display = 'none';

		// ÂºÇÊ≠•Â§ÑÁêÜÂõæÁâáÔºåÈÅøÂÖçÈòªÂ°ûUI
		setTimeout(() => {
			try {
				// Ëé∑ÂèñÈÄâÈ°π
				const direction = document.querySelector('input[name="direction"]:checked').value;
				const spacing = parseInt(spacingInput.value);
				const quality = parseFloat(qualityInput.value);
				const background = backgroundInput.value;

				// ÂàõÂª∫ÁîªÂ∏É
				const canvas = document.createElement('canvas');
				const ctx = canvas.getContext('2d');

				// ËÆ°ÁÆóÁîªÂ∏ÉÂ∞∫ÂØ∏
				let totalWidth = 0;
				let totalHeight = 0;
				let maxWidth = 0;
				let maxHeight = 0;

				uploadedImages.forEach(img => {
					maxWidth = Math.max(maxWidth, img.width);
					maxHeight = Math.max(maxHeight, img.height);
				});

				if (direction === 'horizontal') {
					// Ê®™ÂêëÊãºÊé•
					totalWidth = uploadedImages.reduce((sum, img) => sum + img.width, 0) + (uploadedImages.length - 1) * spacing;
					totalHeight = maxHeight;
				} else {
					// Á∫µÂêëÊãºÊé•
					totalWidth = maxWidth;
					totalHeight = uploadedImages.reduce((sum, img) => sum + img.height, 0) + (uploadedImages.length - 1) * spacing;
				}

				// ËÆæÁΩÆÁîªÂ∏ÉÂ∞∫ÂØ∏
				canvas.width = totalWidth;
				canvas.height = totalHeight;

				// ËÆæÁΩÆËÉåÊôØ
				ctx.fillStyle = background;
				ctx.fillRect(0, 0, canvas.width, canvas.height);

				// ÁªòÂà∂ÂõæÁâá
				let currentX = 0;
				let currentY = 0;

				uploadedImages.forEach(img => {
					const imageObj = new Image();
					imageObj.src = img.src;

					if (direction === 'horizontal') {
						ctx.drawImage(imageObj, currentX, 0, img.width, img.height);
						currentX += img.width + spacing;
					} else {
						ctx.drawImage(imageObj, 0, currentY, img.width, img.height);
						currentY += img.height + spacing;
					}
				});

				// ÁîüÊàêÁªìÊûúÂõæÁâá
				const result = canvas.toDataURL('image/jpeg', quality);

				// Êõ¥Êñ∞UI
				resultImage.src = result;
				loadingIndicator.classList.add('hidden');
				resultImage.style.display = 'block';

				// Âπ≥ÊªëÊªöÂä®Âà∞ÁªìÊûúÂå∫Âüü
				resultContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });

			} catch (error) {
				console.error('ÊãºÊé•ÂõæÁâáÊó∂Âá∫Èîô:', error);
				alert('ÊãºÊé•ÂõæÁâáÊó∂Âá∫ÈîôÔºåËØ∑ÈáçËØï');
				loadingIndicator.classList.add('hidden');
			}
		}, 100);
	}

</script>
</body>

<script>
	function toggleMenu() {
		const nav = document.querySelector('.nav-categories');
		nav.classList.toggle('active');

		// ÁÇπÂáªËèúÂçïÈ°πÂêéËá™Âä®ÂÖ≥Èó≠
		document.querySelectorAll('.nav-category').forEach(item => {
			item.addEventListener('click', () => {
				if (window.innerWidth <= 768) {
					nav.classList.remove('active');
				}
			});
		});
	}
</script>

<!-- Footer -->
<footer class="footer">
	<div class="footer-links">
		<a href="../about.html">About Us</a>
		<a href="../contact.html">Contact Us</a>
		<a href="../privacy.html">Privacy Policy</a>
	</div>
	<div class="footer-copyright">
		&copy; 2024 Missionary AI. All rights reserved.
	</div>
</footer>

</html>